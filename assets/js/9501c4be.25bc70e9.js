"use strict";(self.webpackChunkr_14_documentation=self.webpackChunkr_14_documentation||[]).push([[809],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>g});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=a.createContext({}),l=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},c=function(e){var n=l(e.components);return a.createElement(s.Provider,{value:n},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},h=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),p=l(t),h=i,g=p["".concat(s,".").concat(h)]||p[h]||u[h]||o;return t?a.createElement(g,r(r({ref:n},c),{},{components:t})):a.createElement(g,r({ref:n},c))}));function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,r=new Array(o);r[0]=h;var d={};for(var s in n)hasOwnProperty.call(n,s)&&(d[s]=n[s]);d.originalType=e,d[p]="string"==typeof e?e:i,r[1]=d;for(var l=2;l<o;l++)r[l]=t[l];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}h.displayName="MDXCreateElement"},3741:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>d,toc:()=>l});var a=t(7462),i=(t(7294),t(3905));const o={sidebar_position:1,title:"Changelog",description:"Someone will read this, surely."},r=void 0,d={unversionedId:"r14-evidence/changelog",id:"r14-evidence/changelog",title:"Changelog",description:"Someone will read this, surely.",source:"@site/docs/r14-evidence/changelog.md",sourceDirName:"r14-evidence",slug:"/r14-evidence/changelog",permalink:"/r14-evidence/changelog",draft:!1,editUrl:"https://github.com/regalonefour/regalonefour.github.io/blob/main/docs/r14-evidence/changelog.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Changelog",description:"Someone will read this, surely."},sidebar:"tutorialSidebar",previous:{title:"r14-evidence",permalink:"/category/r14-evidence"},next:{title:"Known Bugs",permalink:"/r14-evidence/knownbugs"}},s={},l=[],c={toc:l},p="wrapper";function u(e){let{components:n,...t}=e;return(0,i.kt)(p,(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"r14-evidence early access changelong"),(0,i.kt)("p",null,"1.62 (4/16/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- updated vehicle garage integration (Config.VehInAndOut) for ESX users with the default esx_garage resource\n- added support for accessing subfields for vehinandout arguments\n- camera can now automatically upload photos to reports on ps-mdt and drx_mdw\n- carwash text ui should now be removed properly when leaving the carwash\n- hopefully, finally, fixed issues with blank SD cards being renamed causing an error when accessing a nil value\n- sd card should now display its name and allow you to rename it instead of forcing a rename\n- added option to setup weapon calibers in the r14-evidence config instead of updating shared/weapons.lua or data/weapons.lua\n- script will yell at all users, client console, and server console on startup if a firearm in items/weapons is missing in the caliber config \n- fixed issue loading photos with ox_inventory due to use of deprecated .info field\n- standalone inventory can now set a custom metadata field\n- updated online documentation at regalonefour.github.io\n- added notification when uploading photo to image space\n- attempting to upload to a MDT/MDW report will return a success or failure notification\n- added check if filled_evidence_bag has been made useable on qb-core/qb-inventory\n")),(0,i.kt)("p",null,"1.61 hotfix 2 (4/2/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- /bagevidence will now work on ESX, removed forgotten code when CreateCommand() attempted to use ESX.RegisterCommand\n- fixed car wash not displaying use car wash 2D/3D text correctly\n- fixed car wash using the use car wash label for the blip\n- added check for SetDrugStatus for a missing CID when triggered from the server\n- added missing polyzone imports for fxmanifest.lua\n")),(0,i.kt)("p",null,"1.61 hotfix (3/30/31)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed misnamed variable in latent evidence\n- fixed a few debug variables not checking the enabled usbfield causing them to always print\n")),(0,i.kt)("p",null,"1.61 (3/28/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed drug/breathalyzer argument prints being stuck enabled due to checking the entire PrintEventTriggerArgs table and not the enabled subfield\n- when a weapon fingerprint drops to 0, script will properly remove it from the weapon metadata instead of setting the integrity to nil\n- car wash now sets the blip name to the default Config.CarWash.Settings.Label if no custom label is specified in the location\n- unbagging a weapon in an evidence bag when using qb-menu/input will no longer cause an error attempting to access ox_lib\n- vehicle fingerprints loaded from database should now properly be created\n- vehicle fingerprints supplied to the server without a seat will now be assigned 'exterior' as their seat if the player is not inside of it\n- leave fingerprint has been fixed, it will now assign the 'exterior' as the seat and no longer be bounced to the client to find the seat\n- added config option for ESX users to enable esx_status to set BAC via an event handler\n- sd cards hopefully will not break on renaming now\n")),(0,i.kt)("p",null,"1.6 hotfix (3/24/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed DNA swab kit causing an error when the server searched for a source that was a string\n- non-fingeprint evidence should no longer require a fingerprint kit to pick up\n- fixed fingerprint reader checking if the person using it was wearing gloves instead of the other player's ped\n- removed errant print statement\n")),(0,i.kt)("p",null,"1.6 (3/24/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fix for car casings being loaded from database causing an error when the script fails to match the weapon hash\n- removed 'or true' causing a debug print to always print for cars updating evidence in the database\n- removed unncessary code from vehicle fragment creation\n- fixed issue in car evidence creation that prevented server from keep track of car evidence in non-player owned vehicles\n- increased Wait() on the bucket handler loop to 2500 ms to decrease potential impacts on sever resources tracking routing buckets\n- added GetClosestPlayer() function to restore functionality for the check status radial wheel option for qb-core\n- fixed logic error causing non-mp_freemode peds specified in the config to have gloves to still leave fingerprints\n- ox_inventory exports now properly filter for the usedItem event and should not activate on item purchase anymore\n- for devs, the current weapon information is saved to the LocalPlayer state between resets for easier testing\n- unbagging evidence time reduced to 10 seconds for active law enforcement\n- added /searchvehicle command to allow police to conduct an evidence sweep while sitting inside a vehicle, will perform a basic hotwire animation\n- GSR test kits, DNA test kits, fingerprint reader, and drug test kits are now useable as items, they will test the closest person to the player\n- fingerprint reader will no longer read the fingerprint of a ped wearing gloves\n- first responders other than law enforcement may now use the evidence camera to view evidence with civilian tags \n- added fingerprintkit, mikrosil, and fingerprinttape items for fingerprint collection\n- in the config you can now require police to use a fingerprint kit and either the mikrosil or fingerprint tape item to lift prints\n- when enabled, a progressbar will be triggered when collecting fingerprints \n- fingerprints will no longer appear in the civilian evidence view, non-LEO first responders will not see fingerprints\n- car fingerprints are now automatically attached to either the exterior of the vehicle or the seat the player is occuping when it is created\n- when entering a vehicle, or changing seats within it, you will leave fingerprints if not wearing gloves\n- fingerprint creation in vehicle will be rate limited by the script based on fingerprint ID and the location, default lockout will be 5 minutes\n- added /createfingerprint for debugging, this command will generate a fingerprint or car fingerprint when used for easy testing\n- when using a firearm without wearing gloves, the shooter will leave fingerprints on the weapon\n- existing fingerprints on weapons you handle will be degraded whether or not you are wearing gloves\n- added microfibercloth item for cleaning fingerprints, added blox item that can be combined with it to clean blood\n- added /cleanweapon command that can be used to attempt and wipe down a weapon for fingerprints, can be disabled in the config in order to require a cloth item\n- using the microfiber cloth or /cleanweapon will open a menu that will allow you to wipe down your weapon, seat in a vehicle, or the surrounding area\n- when you have blox, or any other cleaning chemicals outlined in the config, you will have the option to use it to clean blood AND fingerprints\n- added config option to specify custom rag/cloth items or cleansers to enable evidence cleanup \n- hitting someone with a melee weapon or shooting them at point blank range will deposit blood on the weapon used and players nearby to the victim\n- added /createlatentfingerprint and /createlatentblood for dev to test creation of weapon prints and blood\n- added debug prints to alcohol and drug event handlers that can be enabled in the config, this will print the arguments to the server console that are being recieved for easier setup\n")),(0,i.kt)("p",null,"1.55 hotfix 2 (3/13/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- removed use of QBCore function from carwash.lua\n- fixed frisk breaking if a non-weapon item was in inventory when using qb-inventory\n- fixed frisk checking the person performing the frisk\n")),(0,i.kt)("p",null,"1.55 hotfix (3/11/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed the QBCore.Functions.GetPlayer() function usage accidentally transfered when jims comptability was restored\n- added new jim-consumable event trigger for drug testing config, removed old jims variable, jim-consumables should work again\n- fixed GSR testing using the breathalyzer item instead of gsrtestkit as originally intended\n- fixed DNA swabbing only providing the DNA of the person testing, src has been swapped for the playerId argument as originally intended\n- fixed Drug Testing only providing the drug results of the person testing, src has been swapped for the playerId argument as originally intended\n")),(0,i.kt)("p",null,"1.55 (3/11/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- animations are now properly triggers and movement properly disabled when using ox_lib progressbars\n- carwash.lua has been moved to r14-evidence, added a customizable function in the config to charge the player money\n- minor bug fixes, and improvements to carwash\n- using a new/blank sdcard will no longer cause an error when attempting to access a metadata table that doesn't exist\n- distance checking has been added for ox_target users\n- copy/paste functionality has been restored, the fxmanifest has been updated to load evidence.html instead of index.html\n- inventory search has been fixed for qb-core users, script was checking for accesstool instead of the specified item    \n")),(0,i.kt)("p",null,"1.54 (3/10/23)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- deprecated 1.48 stable hotfix 2, if you need a copy of the depreceated version please open a ticket\n- updated installation guide\n- updated installation checklist\n- added esx/qb-core installation guides\n- added inventory images for evidence bags\n")),(0,i.kt)("p",null,"1.54 beta (3/4/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- readded built-in support for jims-consumables lost during conversion\n- breathalyzer config now includes the ability to set up custom event handlers for integration with third party scripts\n- arguments in breathalyzer and drug testing event handlers can now be checked against a table for easier integration\n- using an emote to view evidence as a civlian is now handled by a simple animation/scenario check for better emote compatability\n- you can specify what animations and scenarios trigger this in the renamed Config.ViewEmote table\n- timeout for alerts have been moved into a custom function handler\n- you can now set the default timeout in the alert config\n")),(0,i.kt)("p",null,"1.48 hotfix 2 (3/3/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- removed use of Config.Functions.PlayerDataClient() that was breaking the script, replaced with QBCore.Functions.GetPlayer()\n")),(0,i.kt)("p",null,"1.53 hotfix 2 (3/3/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- player identifiers will no longer be fetched when loading vehicle evidence preventing an attempt to index nil error while creating car blood\n- added check for GetPlayerIdentifiers() that will catch and server print when being activated with a blank source\n")),(0,i.kt)("p",null,"1.48 + 1.53 hotfix (2/28/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- the recording dot now uses the texture on the included ytd instead of mpinventory to avoid anticheat issues\n- movement is now disabled while using the camera\n- added check for being logged in to the initial PlayerData get to prevent an error breaking the script\n- added a feature list for easy reference by new users\n")),(0,i.kt)("p",null,"1.53 beta (2/26/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- added local OpenContext and OpenInput functions to nikon.lua to prevent errors if it missing as a global function\n- player data is now properly fetched when using ESX when using PlayerDataClient()\n- using the camera now plays a custom animation sequence rather than a scenario so it is compatible with female peds\n- added check for missing attachment in the screenshot upload request to prevent F8 error, will now print error instead\n- fixed noMemory variable in camera being set to false when memory card is not inserted\n- camera will now play failure beep when attempting to upload to a nonexistent or broken webhook\n")),(0,i.kt)("p",null,"1.47 stable (2/26/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- using the camera now plays a custom animation sequence rather than a scenario so it is compatible with female peds\n- fixed noMemory variable in camera being set to false when memory card is not inserted\n- camera will now play failure beep when attempting to upload to a nonexistent or broken webhook\n")),(0,i.kt)("p",null,"1.52 beta (2/25/2023)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- car evidence menu should now work properly for ox_lib users\n- fixed misnamed variable causing car casings to not have a proper serial number\n- sever should properly guess serial number of a casing when not supplied one while using ox_inventory\n- added Config.DB.Evidence to set the column used for car evidence, should prevent conflict with drx_mdw\n- added missing revive event handler for ESX framework users\n- removed qbox and ox framework flags until proper events can be writte, qbox users please use qb as your framework\n")),(0,i.kt)("p",null,"1.51 beta hotfix (2/20/23)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- added missing ox metadata for fingerprint reader printouts\n- removed errant print statements\n- added check for missing ESX.PlayerData.job table to PlayerDataClient()\n")),(0,i.kt)("p",null,"1.51 beta (2/19/23) "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- general update for ESX compatability, fixed loggedin variable, fixed broken config functions, changed from lib.callback to esx.callback\n- esx should generally function, and items should be useable now\n- added screenshot-basic depedency to manifest\n- update to install instructions for esx users\n")),(0,i.kt)("p",null,"1.46 stable (2/18/23) -- THIS IS THE STABLE BRANCH AND SHOULD BE USED BY MOST USERS"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"}," - GSR is now properly removed over time and while swimming\n - eliminated server thread handling GSR in favor of setting/checking expiration time like the drug subsystem\n - removed printGSR loop debug variable, this will no longer change anything if you leave it in your config\n - bleed command will no longer down you if used at low health, and will instead set player health to 1 HP\n - removed unneeded variable being fetched during impact/casing creation\n - added check for item name being modified when updating camera/sdcard metadata for better security\n - added notification when leaving a fingerprint on a vehicle to confirm success\n - added client-side event handler for finerprints for glove detection, old event will route through it now\n - you can now trigger the client-side or original server-side fingerprint event without any coords and it will create the fingerprint in front of the player at waist height\n - added tables for gloves, including support for non mpfreemode peds\n - added 'evidence:client:setnikon' event to toggle nikon variable from third party resources\n")),(0,i.kt)("p",null,"1.5 beta (2/18/23) -- THIS IS THE BETA BRANCH, PLEASE USE 1.46 STABLE IF YOU ARE NOT PREPARED FOR ERRORS!"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"}," - all 1.46 stable updates\n - added ox_inventory support\n - added ox_lib context/input support\n - added ox_target support\n - most qb-specific functions have now been moved to the functions config\n - added ability to generate fingerprints, bloodtype, and citizenid for frameworks which don't include them by default\n - EARLY AND EXPERIMENTAL SUPPORT FOR ESX/OX FRAMEWORKS, NOT A SINGLE GUARANTEE IT WORKS RIGHT NOW\n")),(0,i.kt)("p",null,"v1.45 (1/6/2023) (Happy new year!)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- updated carwash.lua for compatability with the recent qb-smallresources refactor\n- added ability to override car wash polyzones and draw text with 3D text\n- car wash menu will no longer reject opening if the vehicle is clean\n- added support for jims-consumables and base drug items, uncomment the section in DrugTesting.EventTriggers to enable\n- added fix for car evidence in database that predates v1.44, should use the old subfield name and no longer cause error\n- changed name of html page for r14-evidence to be unique to attempt and resolve issue with evidence bags not copying\n")),(0,i.kt)("p",null,"v1.44 hotfix (12/10/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed syntax error in the core inventory function\n- fixed database vehicle blood breaking evidence creation due to lack of player source\n- fixed seat math error when loading vehicle blood, shifted math to client and is now saved to database properly\n- car evidence will now be hidden on the player collecting it until the server can properly remove it\n")),(0,i.kt)("p",null,"v1.44 (12/10/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- blood now gets the citizenid from the server so DNA hash should no longer error out due to being nil\n- access tool will properly reject being used if the closest vehicle is locked or beyond three units\n- updated font awesome icons to use fas instead of fa-solid to prevent breaking on older target versions\n- brethalyzer debug command will now inform you if the breathalyzer config variable is not enabled when attempting to use it\n- added version checking\n- vehicle evidence should now properly sync to the database again\n- car casing should generate again now, an improperly named string was being sent to evidence creation\n")),(0,i.kt)("p",null,"v1.43 (11/27/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- server camera code has been broken off into a seperate server/nikon.lua for ease of access and editing\n- webhooks have been moved into a new server-side webhook table accessible via callback for increased security from malicious clients\n- data validation added for the camera config and server-side webhook table to alert devs to issue with their configuration\n- photos which fail to upload will now trigger an IC error notification and OOC console print rather than causing an F8 error\n- camera now properly checks job name and job type for the associated camera config subfields\n- drug testing config has now allows easy server-side and client-side creation of event listeners for custom drug and consumable resources\n- added guide to config for creating custom drug event triggers\n- modified evidence creation events to address a discovered security concern\n- /r14debug will now properly sort debug variables according to the new count subfield\n- clients will no longer send empty evidence packages to the server once per second\n- shifted item checks from qb-target to custom code in the canInteract functions for better compatability with old qb-core builds \n- restricted leave fingerprint to LEO only\n- missing meth config added to drug testing config\n")),(0,i.kt)("p",null,"v1.42 (11/24/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- camera settings now properly apply to new items even when other metadata exists in a new camera item's metadata\n- server now properly rejects bad car blood events after creating a server print\n")),(0,i.kt)("p",null,"v1.41 (11/17/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- /bagevidence will now validate that a weapon has a serial and durability to prevent potential errors\n- when triggering SetCurrentWeapon, evidence will now send an empty table, and the script itself will check for an empty table instead of a boolean\n- camera channels can now have a job name or job type specified instead of a authorized job function\n- added weazel news camera channel for the base qb-core reporter job\n- added guide to creating custom camera channels to config\n")),(0,i.kt)("p",null,"v1.4 (11/16/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- added data validation when creating the vehicle hash lookup table to prevent script breaking on startup if a hash is missing\n- casing evidence will be generated more realistically by simulating a real casing in game \n- new casing simulation means casings will not generate through walls or fall into the void\n- added debug variable to view casing objects generated to observe shell casing generation/behavior\n- police can now use /bagev or /bagevidence to place weapons in their inventory into an evidence bag\n- when using evidence bags containing a weapon, you will be shown the serial, ammo loaded, and durability along with option to unbag it\n- unbagging a weapon will take 60 seconds and civilians will be prompted to confirm they are not exploiting\n- added server print and qb-logs trigger to record when civlians unbag evidence weapon bags\n- server will no longer send blank evidence packages to the client\n- update to authorized job functions to work serverside, /clearevidence should be available again\n- added device settings menu to camera, accessible by using E while using the camera\n- added ability to change upload channels from the device settings\n- added sd card item, cameras will come with an ejectable SD card by default\n- cameras will now store their photos on their currently inserted SD card, unless connected to an upload channel\n- using an SD card will allow you to name it, or insert it if you are using the camera\n- upload channels can be assigned a password from the config to prevent unauthorized users from uploading images\n- holding shift when using the camera item will open the device menu without pulling out the camera\n- using the camera item now while holding a weapon should properly disarm you and open the camera\n- exiting the camera should now no longer 'drop you' through some objects (like AC units)\n- added flash for the evidence camera, enable/disable with F\n- camera item will now block subsequent usage until the player has pulled out the camera, preventing accidentally pressing it twice cancelling use\n- camera position updated to more accurately represent the position of the camera lens rather than appearing above the player\n- players can access upload channels via the camera, and view all photos uploaded to them from the current reset\n")),(0,i.kt)("p",null,"v1.32 (11/3/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- new documentation made available at regalonefour.github.io/\n- made slight change to the evidence pickup thread to prevent an error being thrown when leaving pickup range\n- readded missing GetPlayer() function to the serverside drug testing event, drug tests should now provide evidence bags\n- added server ID to drug test notification message, you will now see the ID of the player you drug tested\n- added ability for police to fingerprint players via qb-target\n- added fingerprint reader item added for qb-target option\n- drug test evidence bags will now include the DNA of the suspect tested, and can be copy/pasted from the evidence bag menu\n")),(0,i.kt)("p",null,"v1.31 (10/31/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed a native function that was causing massive performance degredation, updated native should restore normal resmon values (~1.4ms while using camera in evidence dense areas)\n- weird behavior of evidence pickups should be resolved, the loop now uses the global variable rather than recreating it with a shortened name\n- added police drug testing, set up out of the box for qb-smallresources, and oral drug test kit police can use to test a suspect for recent drug usage\n- added new drug test kit item\n- added config options for drug testing, you can disable it entirely, set the hours a drug will cause a positive test, and what drugs are tested for\n- added ability to specify contraband items for frisk, brief guide with real world case law explainer is included for adding items\n- added frisk notification for detecting contraband, will pop up as its own notification if found\n- dna and gsr evidence bags will now have tracking ID's for easier evidence management\n- breathalyzer now provides a printout when a suspect blows above a 0.0 with their result, tracking ID, date of test, and where it was conducted\n- when an outdated event triggers evidence:server:CreateCasing, the name of the event will be printed to server console\n")),(0,i.kt)("p",null,"v1.3 (10/21/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed routing bucket information not being forwarded correctly to area evidence, evidence should now be properly concealed while in other routing buckets\n- fixed bug caused by vehicle fragments attempting to access car evidence tables that don't exist\n- routing buckets will no longer be constantly gotten from server, server now keeps track an will push the new bucket when it detectes a change\n- updated argument in the config for the server notifications\n")),(0,i.kt)("p",null,"v1.23 (10/8/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- removed deprecated inventory events from client/main.lua, replaced with server side functions (does not you to update qb-core, do not worry!)\n")),(0,i.kt)("p",null,"v1.223 hotfix (9/22/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- removed owned flag from vehicle evidence, replaced functionality with existing LoadedCars table\n- added error detection logic to RemoveEvidence() function, should now generate a server side print instead of a error if evidence ID does not exist\n- fixes car evidence being loaded from owned vehicles, will now trigger proper server events, or add the proper information to evidence tables\n")),(0,i.kt)("p",null,"v1.222 hotfix (9/18/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- removed left over evidence removal logic from server side\n- fixed civilian viewing of evidence casuing an F8 error when it cleared the AreaEvidence cache, now sets it to a blank table\n")),(0,i.kt)("p",null,"v1.221 hotfix (9/17/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- evidence loading has been fixed, evidence events were being sent individually to addevidence instead of as a table\n- evidence fading no longer uses custom function, net impacts will now be removed properly by remove evidence\n- errant print statement remvoed\n")),(0,i.kt)("p",null,"v1.22 update (9/4/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- general code clean up, evidence tables have now been merged along with the adding/removing events for all evidence types\n- distance checking is no longer preformed to pull evidence into the area cache for the flashlight/camera\n- all evidence is now organized into a grid system and only nearby grid squares pulled into AreaEvidence\n- eliminated always on evidence pickup thread, will now be activated only when there is a current evidence drop\n- improvement to evidence pickup, markers should now transition smoother, and be removed when leaving the pickup radius\n- removed deprecated qb-inventory additem and removeitem events, replaced with proper server-sided event\n- fixed previous note displaying on bag menu when editing bag notes\n- tweaks to the qb-menu options used by bag menus\n- add/remove evidence events will now be grouped together and sent once per second, this will reduce server to client and client to server traffic\n- added gsr wash off in water logic, optional via config, by default will take 90 seconds to wash off in light water, roughly 45 seconds while swimming\n- added evidence fading for all evidence types, casings, impacts, and blood will no longer persist through an entire reset by default\n")),(0,i.kt)("p",null,"v1.21 update (8/22/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed issue with server notifications being broken when type function was supplied instead of nil\n- fixed issue with frisk being caused by this code\n- optimization for server vehicle db thread, will no longer check if car is owned every loop\n- added fading for casings and blood\n")),(0,i.kt)("p",null,"v1.2 hotfixes (8/15/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- job check function modified to now accept both job name and job type, should resolve issues \n- added event for qb-vehiclekeys for access tool to function correctly, should now trigger correct events\n- fixed misnamed table in server lua\n- added variable to disable police alerts\n- fixed double if statement syntax error\n- fixed missing alerttimeout breaking police alerts\n- updated config to disable all debug variables\n")),(0,i.kt)("p",null,"v1.2 (8/10/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- added ability for anyone to view evidence using specific and configurable animations, works with dp-emotes by default and record and camera will reveal evidence\n- inspecting a vehicle will allow police to discover evidence of forcibly entry\n- evidence sweep will now allow police to discover evidence of forcible entry or picking/hotwiring when set up correctly\n- notifications and chat messages now use a configurable function, most notification text has also been moved to config\n- new configurable job checking is included, the script will now work out of the box with multiple jobs and job types in newer qb-core versions\n- qb-target options will now use this new job check, no need to edit them for multiple jobs anymore\n- added slim jim for police to access vehicles easily and with a configurable number of uses (these are not job locked by default!)\n- modified evidence sweep function, will no longer be able to search locked vehicles\n- added alert triggers to key points of the script, by default these will be qb-policejob but can be modified to any script\n- code reorganization for the camera, should now overall feel a lot snappier and more responsive\n- camera now recieves time/date from server thread, no more callback should reduce resource usage\n- added ability for police and ems to inspect vehicle occupants for status effects via a qb-target 'Inspect Vehicle' option\n- left hand eject weapons now work properly, added Machine Gun to the left hand eject table\n- fixed edge case bug where firing a vehicle weapon or weapon you didn't have your inventory would break evidence pickups\n- fixed time and location not being properly applied to dna test evidence bags\n- fixed weird bug where you could fall through the map if using a camera too soon after getting in a vehicle\n- fix for multiple impacts being generated per shot on networked entities, added timeout to prevent this\n")),(0,i.kt)("p",null,"v1.12 (8/7/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- rewrote time callbacks to now be a single server thread that is pushed to all clients\n- further optimizations, resource usage should now be around 0.01ms in resmon\n")),(0,i.kt)("p",null,"v1.11 (8/1/2022)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- transitioned all gsr, impact, and casing logic to now use threads\n- most users should see 70% reduction in idle resource usage when using resmon\n")),(0,i.kt)("p",null,"v1.1"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- new evidence bag menu, you will now have the option to copy specific pieces of information from the evidence bag\n- players can now create and edit notes on evidence bags\n- vehicle fragment evidence has been added, when crashing a vehicle, bodywork and engine fragments will now be generated\n- bodywork fragments will reveal the color, and upon harsher impact, the make and model of the vehicle\n- engine fragments will reveal the make and model, and upon harsher impact, reveal the plate of the vehicle\n- fixed accidental reversions of existing fixes\n- general code cleanup\n")),(0,i.kt)("p",null,"v1.07"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- ejection pattern modified to be more realistic, rounds will generally fall to the right and behind of a shooter\n- modified evidence loading to prevent oversized packets, script will now load parts of the evidence table over time\n  when a person connects to the server\n- added config options for vehicle garage events, you can now customize the name of the event, and modify which arguments\n  are used by the script\n- added in data validation for vehicle garage events, it should alert you if the script is attempting to use a table or non-plate\n  formated string\n")),(0,i.kt)("p",null,"v1.06"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- blood event moved to r14-evidence script, no edit is required to qb-ambulance job now\n- blood will now be dropped when player ped takes damage based on a configurable chance\n- serial number will no longer be 'guessed' when using weapons in inventory, event now sets the current serial number \n  when drawing a weapon from inventory and sends it to server side\n- refinement to fix for evidence pickups breaking when spamming pickup key, should be fully fixed now\n")),(0,i.kt)("p",null,"v1.05"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- modified current evidence pickup thread to no longer break after leaving the area, current evidence is now stored in a dedicated\n  variable and no longer referenced from the area evidence cache\n- fixed possible error breaking evidence pickup when evidence pickup is spammed\n- config option added for making evidence bags usable\n")),(0,i.kt)("p",null,"v1.04 hotfix"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- modified thread that applies gsr status to rate limit attempts to set gsr, crashing using continious fire weapons should be resolved\n")),(0,i.kt)("p",null,"v1.03 hotfix"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed bug with evidence being drawn permanently after using flashlight, variable is now correctly set to false while not using flashlight\n")),(0,i.kt)("p",null,"v1.02 hotfix"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed broken fade evidence function, it will now access the correct tables and delete the evidence accordingly\n- netimpacts will now properly fade over time, restored missing time variable to netimpacts\n")),(0,i.kt)("p",null,"v1.01 hotfix"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- readded workaround qb-target submenu for police actions\n")),(0,i.kt)("p",null,"v1.0 - Release"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed evidence fade accessing the wrong tables for the evidence type being removed\n- fixed evidence bags not copying to clipboard properly due to string format argument mismatch\n- modified BAC events to not require ABV\n- modified BAC events to accept a target argument\n- added blips back for car washes\n")),(0,i.kt)("hr",null),(0,i.kt)("p",null,"r14-evidence beta changelong"),(0,i.kt)("p",null,"v1.21 hotfix"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed evidence loading for networked impacts\n- cleaned up evidence loading function\n- added networked impacts for flashlight\n- cleaned up code\n- removed marker being drawn for networked ped impacts\n")),(0,i.kt)("p",null,"v1.2 update"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- impacts will now attach to networked entities that have not been destroyed or killed, this includes vehicles and peds (both locals and players)\n- networked entity impacts will retain bullet angle of impact evidence, ped impacts will display a list of impact types on the damaged ped bone\n- evidence bags are now usable, when used they will copy the tracking ID and relevant info to your clipboard\n- added check if ped is downed or dead to qb-target options, should no longer be displayed when in last stand or dead\n- added notifications for the target of frisks, gsr tests, breathalyzers, and dna swabs allowing them time to run away (did not add for investigate)\n- added config options for database events for those not using qb-target\n- added evidence fading over time for impacts and network impacts\n- moved multiple tables to config\n")),(0,i.kt)("p",null,"v1.11 hotfix"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fix for vehicle casings not loading properly, expiration for car casings is now calculated properly\n- added multiple debug variables for printing qb-target events\n- changed notification text if officer does not have a evidence bag when conducting a gsr test\n")),(0,i.kt)("p",null,"v1.1 update"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- vehicle evidence will now be removed after a set number of days, adjustable in the config by evidence type    \n- fingerprint evidence will now fade over time\n- added Breathalyzer, BAC system integrated with QB-Core, and qb-target option to breathalyze a person\n- added qb-target options for GSR testing, DNA testing, and Investigate Person with new progress bars\n- added GSR test kit and DNA test kit items which are consumed based on adjustable config options\n- separated GSR into 'GSR status' detected by GSR test kit and 'gunpowder' status effect revealed by investigate person\n- added positive gsr evidence item, when a positive test comes back, an evidence bag will be generated if the officer has one\n- modified player statuses, gsr status, and blood alcohol content to be recorded based on CID and not source, meaning they will no longer transfer between characters when not fully disconnecting from the server\n- added check to apply gunpowder status effect when a weapon is fired near the player (not as accurate as GSR status, can be applied based on any weapon that is thrown like snowballs)\n- modified gsrs status to check for weapon damage type, a bit more resource intensive but more accurate and does not require updating the script for addon weapons\n- added frisk qb-target option that allows officers to check a person for weapons without searching them\n")),(0,i.kt)("p",null,"v1.02 hotfix"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- fixed incorrect label causing evidence pickups to break (streetLabel was left in, changed to street)\n")),(0,i.kt)("p",null,"v1.01 hotfix"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- removed preexisting webhooks from config\n- removed unnecessary information from config\n")),(0,i.kt)("p",null,"v1.0 - Release"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- overhaul of qb-policejob/client/evidence.lua and qb-policejob/server/main.lua events\n- display of markers for all evidence in area when using flashlight\n- display of markers and evidence info in area when using camera\n- addition of vehicle casings, fingerprints, and blood that can be discovered by police\n- nikon camera for crime scene documentation and surveillence, also civilian photos\n- adds vehicle evidence\n- /r14debug command to allow changing of debug variables in runtime\n")))}u.isMDXComponent=!0}}]);